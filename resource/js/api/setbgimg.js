var cdimg=new Array();function loadBgWH(i){var div;if(i=="$body"){div=document.body;}else{div=document.getElementById(i);}var url=div.style.backgroundImage;var tmp=url.match(/url\((.*?)\)/);url=tmp[1];if(url[0]=="\"" || url[0]=="'"){url=url.slice(1,-1);}var img=new Image();img.setAttribute("src",url);img.onload=function(){var len=cdimg.length;cdimg[len]=new Array();cdimg[len][0]=i;cdimg[len][1]=this.width+"";cdimg[len][2]=this.height+"";setBgWH();}}function setBgWH(){for(var l=0;l<cdimg.length;l++){var div,dw,dh;if(cdimg[l][0]=="$body"){div=document.body;if(window.innerWidth){dw=window.innerWidth;}else{dw=document.body.clientWidth;}if(window.innerHeight){dh=window.innerHeight;}else{dh=document.body.clientHeight;}}else{div=document.getElementById(cdimg[l][0]);dw=div.offsetWidth;dh=div.offsetHeight;}var st=dw+"px auto";var w=parseInt(cdimg[l][1]);var h=parseInt(cdimg[l][2]);var b=dw/w;if(b*h<dh){st="auto "+dh+"px";}div.style.backgroundSize=st;}}window.addEventListener("resize",function(){setBgWH();});